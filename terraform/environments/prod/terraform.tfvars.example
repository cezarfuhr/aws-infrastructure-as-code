# Copie este arquivo para terraform.tfvars e configure os valores

# General Configuration
project_name = "aws-infra"
environment  = "prod"
aws_region   = "us-east-1"

tags = {
  Owner       = "DevOps Team"
  CostCenter  = "Engineering"
  Application = "Main Application"
}

# VPC Configuration
vpc_cidr             = "10.0.0.0/16"
public_subnet_cidrs  = ["10.0.1.0/24", "10.0.2.0/24"]
private_subnet_cidrs = ["10.0.10.0/24", "10.0.11.0/24"]
enable_nat_gateway   = true
enable_flow_logs     = true

# Security Configuration
ssh_allowed_cidr_blocks = ["YOUR_IP/32"]  # Adicione seu IP aqui

# Compute Configuration
instance_type        = "t3.small"
key_name             = "your-key-pair-name"  # Nome do seu Key Pair AWS
asg_min_size         = 2
asg_max_size         = 6
asg_desired_capacity = 2
app_port             = 8080
health_check_path    = "/health"
certificate_arn      = ""  # ARN do certificado ACM (opcional)
enable_alb_deletion_protection = true

# Database Configuration
db_engine                    = "postgres"
db_engine_version            = "15.4"
db_instance_class            = "db.t3.small"
db_allocated_storage         = 50
db_max_allocated_storage     = 200
db_name                      = "appdb"
db_username                  = "admin"
db_multi_az                  = true
db_backup_retention_period   = 30
db_deletion_protection       = true
db_enable_performance_insights = true
db_parameter_group_family    = "postgres15"
db_create_read_replica       = false

# Storage Configuration
s3_enable_versioning       = true
s3_enable_lifecycle_rules  = true
cloudfront_default_root_object = "index.html"
cloudfront_price_class     = "PriceClass_All"
cloudfront_domain_aliases  = []  # ["cdn.example.com"]
cloudfront_acm_certificate_arn = ""  # ARN do certificado ACM para CloudFront

# Monitoring Configuration
alarm_email_endpoints = ["your-email@example.com"]  # Emails para receber alarmes
log_retention_days    = 90

# VPC Endpoints Configuration
enable_s3_endpoint             = true
enable_dynamodb_endpoint       = false
enable_ssm_endpoints           = true   # Required for Session Manager
enable_logs_endpoint           = true
enable_monitoring_endpoint     = true
enable_secretsmanager_endpoint = true
enable_kms_endpoint            = false

# Session Manager Configuration
enable_session_logging     = true
enable_cloudwatch_logging  = true
enable_kms_encryption      = true

# CloudTrail Configuration
cloudtrail_multi_region           = true
cloudtrail_enable_kms             = true
cloudtrail_enable_cloudwatch      = true
cloudtrail_enable_data_events     = false  # Custo adicional
cloudtrail_enable_insights        = false  # Custo adicional
cloudtrail_enable_security_alarms = true

# WAF Configuration
waf_rate_limit            = 2000
waf_enable_ip_reputation  = true
waf_enable_bot_control    = false  # Custo adicional
waf_enable_geo_blocking   = false
waf_blocked_countries     = []  # ["CN", "RU"] para bloquear China e Rússia

# Route 53 Configuration (opcional)
create_route53_zone        = false  # true se você tem um domínio
domain_name                = ""  # "example.com"
create_route53_certificate = false  # true para criar certificado SSL
create_cloudfront_certificate = false
certificate_sans           = []  # ["*.example.com", "www.example.com"]
route53_enable_health_checks = true
